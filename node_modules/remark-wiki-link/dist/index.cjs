(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>p,wikiLinkPlugin:()=>k});var r={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function n(e){return e<r.nul||e===r.space}function i(e){return e<r.horizontalTab}var a={553:e=>{e.exports=function(e){var t,r;return e._compiled||(t=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(t="[\\r\\n][\\t ]*"+t),e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:e=>{function t(e,t,r){var n;if(!t)return r;for("string"==typeof t&&(t=[t]),n=-1;++n<t.length;)if(-1!==e.indexOf(t[n]))return!0;return!1}e.exports=function(e,r){return t(e,r.inConstruct,!0)&&!t(e,r.notInConstruct)}},113:(e,t,r)=>{e.exports=function(e,t,r){for(var s,u,l,c,f,k,p,h,d=(r.before||"")+(t||"")+(r.after||""),x=[],w=[],g={},v=-1;++v<e.unsafe.length;)if(c=e.unsafe[v],i(e.stack,c))for(f=n(c);k=f.exec(d);)s="before"in c||c.atBreak,u="after"in c,l=k.index+(s?k[1].length:0),-1===x.indexOf(l)?(x.push(l),g[l]={before:s,after:u}):(g[l].before&&!s&&(g[l].before=!1),g[l].after&&!u&&(g[l].after=!1));for(x.sort(a),p=r.before?r.before.length:0,h=d.length-(r.after?r.after.length:0),v=-1;++v<x.length;)(l=x[v])<p||l>=h||l+1<h&&x[v+1]===l+1&&g[l].after&&!g[l+1].before&&!g[l+1].after||(p!==l&&w.push(o(d.slice(p,l),"\\")),p=l,!/[!-/:-@[-`{-~]/.test(d.charAt(l))||r.encode&&-1!==r.encode.indexOf(d.charAt(l))?(w.push("&#x"+d.charCodeAt(l).toString(16).toUpperCase()+";"),p++):w.push("\\"));return w.push(o(d.slice(p,h),r.after)),w.join("")};var n=r(553),i=r(112);function a(e,t){return e-t}function o(e,t){for(var r,n=/\\(?=[!-/:-@[-`{-~])/g,i=[],a=[],o=-1,s=0,u=e+t;r=n.exec(u);)i.push(r.index);for(;++o<i.length;)s!==i[o]&&a.push(e.slice(s,i[o])),a.push("\\"),s=i[o];return a.push(e.slice(s)),a.join("")}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return a[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var u={};(()=>{function e(e={}){const t=e.permalinks||[],r=e.pageResolver||(e=>[e.replace(/ /g,"_").toLowerCase()]),n=e.newClassName||"new",i=e.wikiLinkClassName||"internal",a=e.hrefTemplate||(e=>`#/page/${e}`);let o;function s(e){return e[e.length-1]}return{enter:{wikiLink:function(e){o={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(o,e)}},exit:{wikiLinkTarget:function(e){const t=this.sliceSerialize(e);s(this.stack).value=t},wikiLinkAlias:function(e){const t=this.sliceSerialize(e);s(this.stack).data.alias=t},wikiLink:function(e){this.exit(e);const s=o,u=r(s.value),l=u.find((e=>-1!==t.indexOf(e))),c=void 0!==l;let f;f=c?l:u[0]||"";let k=s.value;s.data.alias&&(k=s.data.alias);let p=i;c||(p+=" "+n),s.data.alias=k,s.data.permalink=f,s.data.exists=c,s.data.hName="a",s.data.hProperties={className:p,href:a(f)},s.data.hChildren=[{type:"text",value:k}]}}}}s.d(u,{V:()=>e,x:()=>n});var t=s(113),r=s.n(t);function n(e={}){const t=e.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(e,n,i){const a=i.enter("wikiLink"),o=r()(i,e.value,{before:"[",after:"]"}),s=r()(i,e.data.alias,{before:"[",after:"]"});let u;return u=s!==o?`[[${o}${t}${s}]]`:`[[${o}]]`,a(),u}}}}})();var l=u.V,c=u.x;let f=!1;function k(e={}){const t=this.data();function a(e,r){t[e]?t[e].push(r):t[e]=[r]}!f&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(f=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),a("micromarkExtensions",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).aliasDivider||":",t="]]";return{text:{91:{tokenize:function(a,o,s){var u,l,c=0,f=0,k=0;return function(e){return e!=="[[".charCodeAt(f)?s(e):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),p(e))};function p(e){return 2===f?(a.exit("wikiLinkMarker"),function(e){return i(e)||e===r.eof?s(e):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),h(e))}(e)):e!=="[[".charCodeAt(f)?s(e):(a.consume(e),f++,p)}function h(o){return o===e.charCodeAt(c)?u?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),d(o)):s(o):o===t.charCodeAt(k)?u?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),w(o)):s(o):i(o)||o===r.eof?s(o):(n(o)||(u=!0),a.consume(o),h)}function d(t){return c===e.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),x(t)):t!==e.charCodeAt(c)?s(t):(a.consume(t),c++,d)}function x(e){return e===t.charCodeAt(k)?l?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),w(e)):s(e):i(e)||e===r.eof?s(e):(n(e)||(l=!0),a.consume(e),x)}function w(e){return 2===k?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),o(e)):e!==t.charCodeAt(k)?s(e):(a.consume(e),k++,w)}}}}}}(e)),a("fromMarkdownExtensions",l(e)),a("toMarkdownExtensions",c(e))}const p=k;module.exports=t})();